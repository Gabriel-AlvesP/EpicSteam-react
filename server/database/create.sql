SET FOREIGN_KEY_CHECKS = 0;
CREATE TABLE IF NOT EXISTS Users (Id           int NOT NULL AUTO_INCREMENT, Username     varchar(255) NOT NULL UNIQUE, Email        varchar(255) NOT NULL UNIQUE, Password     varchar(255) NOT NULL, Role         int NOT NULL, JoinDate date NOT NULL, PRIMARY KEY (Id));
CREATE TABLE IF NOT EXISTS Posts (Id          int NOT NULL AUTO_INCREMENT, Title       varchar(255) NOT NULL, Photo       varchar(255), Description varchar(255), Price decimal(15,2) NOT NULL, PostDate date NOT NULL, UpVotes     int NOT NULL, DownVotes   int NOT NULL, Owner       int NOT NULL, CategoryId  int NOT NULL, PRIMARY KEY (Id),CONSTRAINT FKPosts653961 FOREIGN KEY (CategoryId) REFERENCES Categories (Id),CONSTRAINT FKPosts943508 FOREIGN KEY (Owner) REFERENCES Users (Id));
CREATE TABLE IF NOT EXISTS Categories (Id   int NOT NULL AUTO_INCREMENT, Name varchar(255) NOT NULL, Icon varchar(255), PRIMARY KEY (Id));
CREATE TABLE IF NOT EXISTS Comments (Id          int NOT NULL AUTO_INCREMENT, Description varchar(255), UserId      int NOT NULL, PostId      int NOT NULL, PRIMARY KEY (Id),CONSTRAINT FKComments62468 FOREIGN KEY (UserId) REFERENCES Users (Id),CONSTRAINT FKComments918220 FOREIGN KEY (PostId) REFERENCES Posts (Id));
CREATE TABLE IF NOT EXISTS Reactions (Id     int NOT NULL AUTO_INCREMENT, Type     varchar(255) NOT NULL, Quantity int, CommentId   int NOT NULL, PRIMARY KEY (Id), CONSTRAINT FKReactions308889 FOREIGN KEY (CommentId) REFERENCES Comments (Id));
CREATE TABLE IF NOT EXISTS Users_Posts (UserId    int NOT NULL, PostId    int NOT NULL, DidPlayed bit(1) NOT NULL, PRIMARY KEY (UserId, PostId),CONSTRAINT FKUsers_Post6551 FOREIGN KEY (UserId) REFERENCES Users (Id),CONSTRAINT FKUsers_Post150798 FOREIGN KEY (PostId) REFERENCES Posts (Id));
SET FOREIGN_KEY_CHECKS = 1;